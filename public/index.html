<!-- Header -->
<!DOCTYPE html>
<html lang="en-gb">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Sound Level Dashboard</title>
        <link rel="stylesheet" href="default.css" />
        <link rel="shortcut icon" href="../../voting-box.png" />
        <script type="module" src="main.js"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="icon" type="image/x-icon" href="/images/favicon.ico" />
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </head>

    <!-- Document Start -->
    <section class="layout">
        <header>
            <h1>Sound Level Dashboard</h1>
        </header>

        <main>
            <div class="primaryBox" id="infoBox">
                <div class="h2title">
                    <h2>About</h2>
                </div>
                <p>
                    This IoT-based project aims to help users monitor the sound
                    levels they are exposed to and identify when these are too
                    high.
                </p>

                <p>
                    This consists of an esp-32 based decibel sensor, which
                    measures sound levels in the user's environment, and a
                    digital system which measures the sound levels users are
                    exposed to via their headphones.
                </p>

                <p>
                    The user is notified on this app if they exceed the
                    recommended sound exposure.
                </p>
            </div>

            <div class="primaryBox" id="notificationBox">
                <h2>Notifications</h2>

                <button type="button" id="testButton">
                    Create Test Notification
                </button>

                <div id="notificationsSection"></div>
            </div>

            <div class="primaryBox" id="soundLevelBox">
                <h2>Live Sound Levels</h2>

                <div id="dBIndicatorContainer">
                    <div class="inddBContainer">
                        <h3>Current Sound Level</h3>
                        <div id="liveDbLevel" class="dBIndicator">
                            <!-- Placeholder -->
                        </div>
                        <div id="liveDbTimestamp" class="dBTimestamp">
                            <!-- Timestamp -->
                        </div>
                    </div>

                    <div class="inddBContainer">
                        <h3>Average Sound Level (Past 5 Minutes)</h3>
                        <div id="averageDbLevel" class="dBIndicator">
                            <!-- Placeholder -->
                        </div>
                        <div id="averageDbTimestamp" class="dBTimestamp">
                            <!-- Timestamp -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="primaryBox" id="dBgraphContainer">
                <h2>Decibel Graph</h2>
                <canvas id="dbGraph"></canvas>
            </div>
        </main>

        <footer>
            Maximilian Matthews | DE4 Sensing and Internet of Things | Imperial
            College London
        </footer>
    </section>
</html>
